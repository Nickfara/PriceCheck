#:set btn "#002538"
#:set mainBgClr "#f0faff"
#:set topBgClr "#c9e5ff"

<Main>:
    MDScreen:
        MDBoxLayout:
            md_bg_color: mainBgClr
            orientation: 'vertical'
            MDBoxLayout:
                id: topLay
                orientation: 'horizontal'
                size_hint_y: None
                height: "60dp"
                md_bg_color: topBgClr

                MDBoxLayout:
                    orientation: 'vertical'
                    padding: (50, 0, 50, 0)
                    MDTextField:
                        id: text_find
                        hint_text: "Найти товары"
                        pos_hint: {'center_x': .5, 'center_y': .5}
                        text_color_focus: "black"
                        text: ""
                        focus: True
                        MDTextFieldLeadingIcon:
                            icon: "magnify"
                MDBoxLayout:
                    orientation: 'horizontal'
                    MDIconButton:
                        on_release: root.settings_open()
                        icon: "cog"
                        icon_color: btn
                        line_color: btn
                    MDIconButton:
                        on_release: root.cart_open()
                        icon: "cart"
                        icon_color: btn
                        line_color: btn
                    MDIconButton:
                        on_release: root.find()
                        icon: "store-search"
                        icon_color: btn
                        line_color: btn
            MDBoxLayout:
                orientation: 'vertical'
                padding: (50, 0, 50, 0)
                ScrollView:
                    do_scroll_x: False
                    MDBoxLayout:
                        id: list_items_obj
                        orientation: 'vertical'
                        spacing: 80
                        md_bg_color: 'gray'
                        adaptive_height: True
                        size_hint_y: None


<SettingsMain>
    id: dialog
    size_hint_y: None
    size_hint_max_y: .9
    size_hint_min_y: .1

    MDDialogHeadlineText:
        text: 'Настройки'

    MDDialogContentContainer:
        MDBoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: '400dp'
            spacing: 12

            MDBoxLayout:
                orientation: 'horizontal'
                MDIconButton:
                    id: btn_refresh
                    on_release: root.refresh()
                    icon: "refresh"
                    icon_color: btn
                    line_color: btn

            MDBoxLayout:
                size_hint_y: None
                height: checkbox_parser_metro.height

                MDLabel:
                    text: 'METRO: '
                    size_hint_y: None

                MDCheckbox:
                    id: checkbox_parser_metro
                    size_hint_x: .1

            MDBoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: 20

                MDLabel:
                    text: 'Имя файла'
                MDLabel:
                    text: 'Название'
                MDLabel:
                    text: 'Цена'
                MDLabel:
                    text: 'Тип'
                MDLabel:
                    text: 'Поставщик'
                MDLabel:
                    text: 'Горизонталь'
                MDLabel:
                    text: 'Вертикаль'
                MDLabel:
                    text: 'Поиск'

            ScrollView:
                do_scroll_x: False

                MDBoxLayout:
                    id: main
                    orientation: 'vertical'
                    spacing: 40
                    padding: (0, 60, 0, 0)
                    pos_hint: {"center_x"== .5, "center_y== .5"}
                    adaptive_height: True
                    size_hint_y: None
                    minimum_height: self.height

    MDDialogButtonContainer:
        MDIconButton:
            icon: 'plus'
            on_release: root.add_shop(app.MainApp)

        MDBoxLayout:

        MDIconButton:
            icon: 'close'
            on_release: root.exit_settings(app.MainApp)
            icon_color: 'red'
            line_color: 'red'
            text_color: 'red'

        MDIconButton:
            icon: 'check'
            on_release: root.save_settings(app.MainApp)
            icon_color: 'green'
            line_color: 'green'
            text_color: 'green'

<SettingShop>
    MDBoxLayout:
        id: shop
        orientation: 'horizontal'
        size_hint_y: None
        height: '80dp'
        spacing: 2
        md_bg_color: 'white'


<CartMain>
    size_hint_y: None
    size_hint_max_y: .9
    size_hint_min_y: .1

    MDDialogHeadlineText:
        text: 'Корзина'
        halign: 'left'

    MDDialogContentContainer:
        MDBoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: 400
            spacing: 12

            ScrollView:
                do_scroll_x: False
                size: (1, 1)

                MDBoxLayout:
                    id: listShops
                    orientation: 'vertical'
                    padding: (0, 10, 0, 0)
                    adaptive_height: True
                    size_hint_y: None
                    minimum_height: self.height

    MDDialogButtonContainer:
        MDBoxLayout:
            MDIconButton:
                icon: 'page-next'
                on_release: root.edit
                icon_color: 'green'
                line_color: 'green'
                text_color: 'green'

<CartShop>
    size_hint_y: None
    height: 200

    MDBoxLayout:
        id: cartGlobal
        orientation:'vertical'
        spacing: "12dp"

        MDLabel:
            id:CartName
            text: ''

        MDBoxLayout:
            orientation: 'horizontal'

            ScrollView:
                do_scroll_x: False
                size: (1, 1)
                MDBoxLayout:
                    id: listItems
                    orientation: 'vertical'
                    padding: (0, 10, 0, 0)
                    adaptive_height: True
                    size_hint_y: None



<CartItem>
    size_hint_y: None
    height: 30
    orientation: 'horizontal'

    MDLabel:
        id: textItem
        text: ''
        allow_selection: True
        allow_copy: True

    MDIconButton:
        id: buttonItem
        text: ' '
        line_color: 'white'

<ItemObj>
    MDListItem:
        id: item_object
        orientation: 'horizontal'
        size_hint_y: None
        height: '80dp'

        MDListItemSupportingText:
            id: item_seller
            allow_selection: True
            allow_copy: True
        MDListItemHeadlineText:
            id: item_name
            allow_selection: True
            allow_copy: True
        MDListItemTertiaryText:
            id: item_cost
            allow_selection: True
            allow_copy: True
        MDIconButton:
            id: idItem
            icon_color: 'white'
            line_color: 'white'

<Plain>
    MDTooltipPlain:
        id: plain
        text: ''